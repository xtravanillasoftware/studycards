(()=>{"use strict";var __webpack_modules__={818:(e,t,r)=>{function o(e){return t=>{e.styleUrl&&async function(e,t){try{const r=await fetch(e);r.ok?function(e,t){var r,o;if(t.shadow){const n=document.createElement("style");n.textContent=e,null===(o=null===(r=null===document||void 0===document?void 0:document.querySelector(`.${t.tag}`))||void 0===r?void 0:r.shadowRoot)||void 0===o||o.appendChild(n)}else{const t=document.createElement("style");t.textContent=e,document.head.appendChild(t)}}(await r.text(),t):console.error(`Failed to load CSS file: ${e}`)}catch(t){console.error(`Error loading CSS file: ${e}`,t)}}(e.styleUrl,e),customElements.define(e.tag,class extends t{constructor(){super(),this.renderComponent()}render(){throw new Error("You must implement render in your component class.")}renderComponent(){var r,o;const n=e.shadow?this.attachShadow({mode:"open"}):void 0;if(n&&"function"==typeof t.prototype.render){const e=null!==(o=null===(r=null==t?void 0:t.prototype)||void 0===r?void 0:r.render(this))&&void 0!==o?o:this.render();if(!e)throw new Error("The JSX provided by render must be an instance of HTMLElement.");n.appendChild(e)}}})}}function n(e){return function(t){return class extends t{constructor(...t){super(...t),e.forEach((e=>{this[e]=this.getAttribute(e)}))}static get observedAttributes(){return e}attributeChangedCallback(r,o,n){if(e.includes(r)&&o!==n){this[r]=n;const e=this.shadowRoot.querySelector("style");r.includes("__html")||(this.shadowRoot.innerHTML="");const o=t.prototype.render();o&&this.shadowRoot.appendChild(o),e&&this.shadowRoot.appendChild(e)}}}}}function a(e,t){let r;Object.defineProperty(e,t,{get:function(){return r},set:function(e){r=e},enumerable:!0,configurable:!0})}r.d(t,{IO:()=>s,Ji:()=>n,Uw:()=>d,kv:()=>a,uA:()=>o});const c=new WeakMap;function d(e,t){const r={get(){return c.has(this)||c.set(this,{}),c.get(this)[t]},set(e){c.has(this)||c.set(this,{}),c.get(this)[t]=e},enumerable:!0,configurable:!0};Object.defineProperty(e,t,r)}function s(e,t,...r){const o=document.createElement(e);for(const e in t)"onclick"===e&&"function"==typeof t[e]?o.addEventListener("click",t[e]):o[e]=t[e];for(const e of r)"string"==typeof e?o.appendChild(document.createTextNode(e)):o.appendChild(e);return o}},806:(e,t,r)=>{r.d(t,{s:()=>c});class o{put(e,t){const r={key:e.key,value:JSON.stringify(e)};localStorage.setItem(r.key,r.value),t(r)}get(e,t){const r=localStorage.getItem(e.key);t(!!r&&JSON.parse(r))}getAll(e){const t=[];for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);if(r){const e=localStorage.getItem(r);e&&t.push(JSON.parse(e))}}e(t)}update(e,t){this.get(e,(r=>{r&&this.put(e,t)}))}delete(e,t){try{localStorage.removeItem(e.key),t(!0)}catch(e){t(!1)}}}class n{constructor(e){this.indexedDB=window.indexedDB,this.props=e}put(e,t){var r=indexedDB.open(this.props.databaseName,1);r.onupgradeneeded=()=>{r.result.createObjectStore(this.props.objectStoreName,{keyPath:this.props.keyPath}).createIndex(this.props.indexName,this.props.indexArr)},r.onsuccess=()=>{var o=r.result,n=o.transaction(this.props.objectStoreName,"readwrite"),a=n.objectStore(this.props.objectStoreName);a.index(this.props.indexName),a.put(e),t(!0),n.oncomplete=function(){o.close()}}}get(e,t){var r=indexedDB.open(this.props.databaseName,1);r.onsuccess=()=>{var o=r.result,n=o.transaction(this.props.objectStoreName,"readonly"),a=n.objectStore(this.props.objectStoreName).get(e.key);a.onsuccess=function(){t(a.result)},a.onerror=function(){console.error("Failed to retrieve data"),t(null)},n.oncomplete=function(){o.close()}},r.onerror=function(){console.error("Failed to open database"),t(null)}}getAll(e){var t=this.indexedDB.open(this.props.databaseName,1);t.onsuccess=()=>{var r=t.result,o=r.transaction(this.props.objectStoreName,"readonly"),n=o.objectStore(this.props.objectStoreName).getAll();n.onsuccess=function(){e(n.result)},n.onerror=function(){console.error("Failed to retrieve all data"),e(null)},o.oncomplete=function(){r.close()}}}update(e,t){var r=indexedDB.open(this.props.databaseName,1);r.onsuccess=()=>{var o=r.result,n=o.transaction(this.props.objectStoreName,"readwrite"),a=n.objectStore(this.props.objectStoreName),c=a.get(e.id);c.onsuccess=function(){if(c.result){var r=a.put(e);r.onsuccess=function(){t(!0)},r.onerror=function(){console.error("Failed to update data"),t(!1)}}else console.error("Data not found for update"),t(!1)},c.onerror=function(){console.error("Failed to retrieve data for update"),t(!1)},n.oncomplete=function(){o.close()}},r.onerror=function(){console.error("Failed to open database"),t(!1)}}delete(e,t){var r=indexedDB.open(this.props.databaseName,1);r.onsuccess=()=>{var o=r.result,n=o.transaction(this.props.objectStoreName,"readwrite"),a=n.objectStore(this.props.objectStoreName).delete(e.key);a.onsuccess=function(){t(!0)},a.onerror=function(){console.error("Failed to delete data"),t(!1)},n.oncomplete=function(){o.close()}},r.onerror=function(){console.error("Failed to open database"),t(!1)}}}var a;!function(e){e.INDEXEDDB="IndexedDB",e.WEBSTORAGE="Web Storage"}(a||(a={}));class c{constructor(e){window.indexedDB?this.db=new n(e):this.db=new o}async getAll(e){try{await new Promise(((t,r)=>{this.db.getAll((o=>{o?(e(o),t()):(e(null),r(new Error("Failed to get data")))}))}))}catch(t){throw e(null),t}}async put(e,t){try{await new Promise(((t,r)=>{this.db.put(e,(e=>{e?t():r(new Error("Failed to put data"))}))})),t(!0)}catch(e){throw t(!1),e}}async get(e,t){try{await new Promise(((r,o)=>{this.db.get(e,(e=>{e?(t(e),r()):(t(null),o(new Error("Failed to get data")))}))}))}catch(e){throw t(null),e}}async update(e,t){try{await new Promise(((t,r)=>{this.db.update(e,(e=>{e?t():r(new Error("Failed to update data"))}))})),t(!0)}catch(e){throw t(!1),e}}async delete(e,t){try{await new Promise(((t,r)=>{this.db.delete(e,(e=>{e?t():r(new Error("Failed to delete data"))}))})),t(!0)}catch(e){throw t(!1),e}}async exportTableToJson(){return new Promise(((e,t)=>{this.db.getAll((r=>{r?e(JSON.stringify(r)):t(new Error("Failed to export data"))}))}))}async importJsonTable(e){const t=JSON.parse(e);for(const e in t)if(Object.hasOwnProperty.call(t,e)){const r=t[e];await new Promise(((e,t)=>{this.db.put(r,(r=>{r?e():t(new Error("Failed to put data during import"))}))}))}}}},89:(e,t,r)=>{var o=r(818),n=r(806),a=function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,r,o){return new(r||(r=Promise))((function(n,a){function c(e){try{s(o.next(e))}catch(e){a(e)}}function d(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,d)}s((o=o.apply(e,t||[])).next())}))};class s{share(){alert("Share!")}toggleFlip(e){e.currentTarget.classList.toggle("flip")}handleDeleteCard(e){e.stopPropagation(),this.card&&this.delete_card&&this.delete_card(this.card.id)}editCard(e,t){return d(this,void 0,void 0,(function*(){e.stopPropagation(),yield window.editCardContent(e.target,this.card.id,t,this.update_card)}))}render(){const e=null==this?void 0:this.card;return(0,o.IO)("div",{className:"flashcard",onclick:e=>this.toggleFlip(e)},(0,o.IO)("div",{className:"front"},(0,o.IO)("p",{onclick:e=>this.editCard(e,!0)},e.front)),(0,o.IO)("div",{className:"back"},(0,o.IO)("p",{onclick:e=>this.editCard(e,!1)},e.back)),(0,o.IO)("button",{className:"delete-button",onclick:e=>this.handleDeleteCard(e)},"ðŸ—‘"))}}a([o.kv,c("design:type",Object)],s.prototype,"card",void 0),a([o.kv,c("design:type",Function)],s.prototype,"update_card",void 0),a([o.kv,c("design:type",Function)],s.prototype,"delete_card",void 0);let i=class extends HTMLElement{constructor(){super(),this.cards=[],this.fetchedCards=[],this.deck=[],this.fetchAndRenderCardsByDeck(l("deck"))}saveFlashcards(e){const t=new n.s({databaseName:"FlashDatabase",objectStoreName:"DeckStore",indexName:"DeckIndex",indexArr:["deck.id"],keyPath:"id"}),r=l("deck");t.update({key:r,id:r,cards:e},(e=>{console.log(e)}))}fetchAndRenderCardsByDeck(e){return d(this,void 0,void 0,(function*(){try{const t=new n.s({databaseName:"FlashDatabase",objectStoreName:"DeckStore",indexName:"DeckIndex",indexArr:["deck.id"],keyPath:"id"});let r=[];yield t.get({key:e},(e=>{e&&e.cards.length>0&&(r=[...e.cards,...JSON.parse(this.cards)],this.fetchedCards=r,window.globalState.cards=r)}));const o=this.renderCards(r),a=document.createElement("div");a.id="flashcard-container",a.appendChild(o),this.shadowRoot.appendChild(a)}catch(e){console.error("Error fetching decks:",e)}}))}updateCardsByDeck(e){const t=new n.s({databaseName:"FlashDatabase",objectStoreName:"DeckStore",indexName:"DeckIndex",indexArr:["deck.id"],keyPath:"id"}),r=l("deck");t.update({key:r,id:r,cards:e},(e=>{}))}deleteCard(e){return d(this,void 0,void 0,(function*(){yield window.deleteFlashcard(e),this.deck=window.globalState.cards;const t=new n.s({databaseName:"FlashDatabase",objectStoreName:"DeckStore",indexName:"DeckIndex",indexArr:["deck.id"],keyPath:"id"}),r=l("deck");t.update({key:r,id:r,cards:this.deck},(e=>{}))}))}renderCards(e){const t=document.createDocumentFragment();return e.forEach((e=>{const r=new s;r.card=e,r.update_card=this.updateCardsByDeck,r.delete_card=this.deleteCard;const o=r.render();t.appendChild(o)})),t}render(){const e=[...window.globalState.cards];if(this.deck=e,this.deck){if(this.deck.length>0){const e=this.renderCards(this.deck);return this.saveFlashcards(this.deck),(0,o.IO)("div",{id:"flashcard-container"},e)}return(0,o.IO)("div",null)}return(0,o.IO)("div",null)}};function l(e){return new URLSearchParams(window.location.search).get(e)}a([o.kv,c("design:type",Array)],i.prototype,"cards",void 0),a([o.Uw,c("design:type",Array)],i.prototype,"fetchedCards",void 0),a([o.Uw,c("design:type",Array)],i.prototype,"deck",void 0),i=a([(0,o.uA)({tag:"card-list",shadow:!0,styleUrl:"../components/cards.css"}),(0,o.Ji)(["cards"]),c("design:paramtypes",[])],i)},492:(e,t,r)=>{var o=r(818),n=r(806),a=function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,r,o){return new(r||(r=Promise))((function(n,a){function c(e){try{s(o.next(e))}catch(e){a(e)}}function d(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,d)}s((o=o.apply(e,t||[])).next())}))};class s{share(){alert("Share!")}render(){const e=null==this?void 0:this.deck;return(0,o.IO)("div",{className:"deck",id:e.id},(0,o.IO)("p",{className:"title"},(0,o.IO)("a",{className:"title-link",href:String(`/pages/flashcards.html?deck=${e.id}`)},String(e.title))),(0,o.IO)("div",{className:"dropdown"},(0,o.IO)("button",{className:"dropbtn"},"Actions"),(0,o.IO)("div",{className:"dropdown-content"},(0,o.IO)("a",{href:"#",id:"rename",onclick:()=>window.openModal("rename_deck",e.id,this.rename_deck)},"Rename"),(0,o.IO)("a",{href:"#",id:"share",onclick:()=>this.share()},"Share"),(0,o.IO)("a",{href:"#",id:"delete",onclick:()=>window.deleteDeck(e.id,this.delete_deck)},"Delete"))))}}a([o.kv,c("design:type",Object)],s.prototype,"deck",void 0),a([o.kv,c("design:type",Function)],s.prototype,"rename_deck",void 0),a([o.kv,c("design:type",Function)],s.prototype,"delete_deck",void 0);let i=class extends HTMLElement{constructor(){super(),this.fetchAndRenderDecks()}saveToDb(e,t){return d(this,void 0,void 0,(function*(){this.database=new n.s({databaseName:"FlashDatabase",objectStoreName:"DeckStore",indexName:"DeckIndex",indexArr:["deck.id"],keyPath:"id"}),yield this.database.put(e,(e=>{t(e)}))}))}fetchAndRenderDecks(){return d(this,void 0,void 0,(function*(){try{const e=new n.s({databaseName:"FlashDatabase",objectStoreName:"DeckStore",indexName:"DeckIndex",indexArr:["deck.id"],keyPath:"id"});let t=[];yield e.getAll((e=>{console.log(e),e&&(t=e)}));const r=this.renderDecks(t);this.shadowRoot.appendChild(r),this.fetchedDecks=t;const o=window.globalState.decks;window.globalState.decks=[...o,...t]}catch(e){console.error("Error fetching decks:",e)}}))}renameDeck(e){return d(this,void 0,void 0,(function*(){const t=new n.s({databaseName:"FlashDatabase",objectStoreName:"DeckStore",indexName:"DeckIndex",indexArr:["deck.id"],keyPath:"id"});yield t.put(Object.assign({},e),(e=>{}))}))}deleteDeck(e){return d(this,void 0,void 0,(function*(){const t=new n.s({databaseName:"FlashDatabase",objectStoreName:"DeckStore",indexName:"DeckIndex",indexArr:["deck.id"],keyPath:"id"});yield t.delete({key:e},(e=>{}))}))}renderDecks(e){const t=document.createDocumentFragment();return e.forEach((e=>{const r=new s;r.deck=e,r.rename_deck=this.renameDeck,r.delete_deck=this.deleteDeck;const o=r.render();t.appendChild(o)})),t}render(){const e=window.globalState.decks;return e&&e.length?this.renderDecks(e):(0,o.IO)("div",null)}};a([o.kv,c("design:type",Array)],i.prototype,"decks",void 0),a([o.Uw,c("design:type",Array)],i.prototype,"fetchedDecks",void 0),a([o.Uw,c("design:type",Object)],i.prototype,"database",void 0),i=a([(0,o.uA)({tag:"deck-list",shadow:!0,styleUrl:"./components/decks.css"}),(0,o.Ji)(["decks"]),c("design:paramtypes",[])],i)},731:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var _1car_us__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(818),chamoy__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(806),__decorate=function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Header=class Header extends HTMLElement{add_deck(e){new chamoy__WEBPACK_IMPORTED_MODULE_1__.s({databaseName:"FlashDatabase",objectStoreName:"DeckStore",indexName:"DeckIndex",indexArr:["deck.id"],keyPath:"id"}).put(Object.assign({key:e.id},e),(e=>{console.log(e)}))}getQueryParameters(e){return new URLSearchParams(window.location.search).get(e)}render(){const query_param=this.getQueryParameters("deck");return eval(this.add_flashcard),"string"==typeof query_param?(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("nav",{className:"toolbar"},(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("ul",null,(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("li",null,(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("button",null,(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("a",{href:"/"},"Back"))),(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("li",null,(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("button",{onclick:()=>createFlashcard()},"Add")),(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("li",null,(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("button",null,(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("a",{href:`/pages/study.html?deck=${query_param}`},"Study"))))):(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("nav",{className:"toolbar"},(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("ul",null,(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("li",null,(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.IO)("button",{onclick:()=>window.openModal("add_deck",null,this.add_deck)},"Add"))))}};__decorate([_1car_us__WEBPACK_IMPORTED_MODULE_0__.kv,__metadata("design:type",String)],Header.prototype,"add_flashcard",void 0),Header=__decorate([(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.uA)({tag:"header-component",shadow:!0,styleUrl:"../components/header.css"}),(0,_1car_us__WEBPACK_IMPORTED_MODULE_0__.Ji)(["add_flashcard"])],Header);var __WEBPACK_DEFAULT_EXPORT__=Header},55:(e,t,r)=>{var o=r(818),n=function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class extends HTMLElement{close(){window.closeModal()}submit(e){e.preventDefault(),window.handleFormSubmission(this.deckName,this.mode)}render(){return(0,o.IO)("div",{id:"true"===this.open?"modal":"myModal",className:"modal"},(0,o.IO)("div",{className:"modal-content"},(0,o.IO)("span",{className:"close",onclick:e=>this.close()},"Ã—"),(0,o.IO)("h2",{id:"modalTitle"},"add_deck"===this.mode?"Add New Deck":"Rename Deck"),(0,o.IO)("form",{id:"deckForm"},(0,o.IO)("label",{for:"deckName"},"Name:"),(0,o.IO)("input",{type:"text",id:"deckName",name:"deckName",required:!0,onchange:e=>this.deckName=e.target.value}),(0,o.IO)("button",{id:"submitBtn",type:"submit",onclick:e=>this.submit(e)},"add_deck"===this.mode?"Add Deck":"Rename Deck"))))}};n([o.kv,a("design:type",String)],c.prototype,"open",void 0),n([o.kv,a("design:type",String)],c.prototype,"mode",void 0),n([o.Uw,a("design:type",String)],c.prototype,"deckName",void 0),c=n([(0,o.uA)({tag:"icarus-modal",shadow:!0,styleUrl:"./components/modal.css"}),(0,o.Ji)(["open","mode","callback"])],c)},275:(e,t,r)=>{var o=r(818),n=r(806),a=function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class d{constructor(){this.isFlipped=!1}share(){alert("Share!")}respond(e){this.on_respond(e)}flipCard(){this.isFlipped=!this.isFlipped;const e=document.querySelector(".study-component").shadowRoot.querySelector(".flashcard");this.isFlipped?e.classList.remove("flip"):e.classList.add("flip")}editCard(){const e=document.querySelector(".study-component").shadowRoot.querySelector(".flashcard"),t=this.card.front,r=this.card.back,o=prompt("Enter new content for the front of the flashcard:",t);e.querySelector(".front").textContent=o;const n=prompt("Enter new content for the back of the flashcard:",r);e.querySelector(".back").textContent=n,null!==o&&null!==n&&(this.card.front=o,this.card.back=n)}render(){return null==this||this.card,(0,o.IO)("div",{className:"flashcard-container"},(0,o.IO)("div",{className:this.isFlipped?"flashcard flip":"flashcard"},(0,o.IO)("div",{className:"front"},this.card.front),(0,o.IO)("div",{className:"back"},(0,o.IO)("div",{className:"content"},this.card.back),(0,o.IO)("div",{className:"answers-btns"},(0,o.IO)("button",{id:"again-btn",onclick:()=>this.respond("again")},"Again"),(0,o.IO)("button",{id:"hard-btn",onclick:()=>this.respond("hard")},"Hard"),(0,o.IO)("button",{id:"good-btn",onclick:()=>this.respond("good")},"Good"),(0,o.IO)("button",{id:"easy-btn",onclick:()=>this.respond("easy")},"Easy")))),(0,o.IO)("div",{className:"buttons"},(0,o.IO)("button",{id:"edit-btn",onclick:()=>this.editCard()},"Edit"),(0,o.IO)("button",{id:"btn",onclick:()=>this.flipCard()},"Flip")))}}a([o.kv,c("design:type",Object)],d.prototype,"card",void 0),a([o.kv,c("design:type",Function)],d.prototype,"update_card",void 0),a([o.kv,c("design:type",Function)],d.prototype,"delete_card",void 0),a([o.kv,c("design:type",Function)],d.prototype,"on_respond",void 0),a([o.kv,c("design:type",Function)],d.prototype,"rerender",void 0),a([o.Uw,c("design:type",Boolean)],d.prototype,"isFlipped",void 0);let s=class extends HTMLElement{constructor(){super(),this.currentCardIndex=0,this.cards=[],this.fetchAndRenderCardsByDeck(this.getQueryParameters("deck"))}getQueryParameters(e){return new URLSearchParams(window.location.search).get(e)}fetchAndRenderCardsByDeck(e){return t=this,r=void 0,a=function*(){try{const t=new n.s({databaseName:"FlashDatabase",objectStoreName:"DeckStore",indexName:"DeckIndex",indexArr:["deck.id"],keyPath:"id"});yield t.get({key:e,id:e},(e=>{e&&e.cards.length>0&&(this.cards=e.cards)}));const r=this.renderStudyCard(),o=document.createElement("div");o.id="study-container",o.appendChild(r),this.shadowRoot.appendChild(o)}catch(e){console.error("Error fetching decks:",e)}},new((o=void 0)||(o=Promise))((function(e,n){function c(e){try{s(a.next(e))}catch(e){n(e)}}function d(e){try{s(a.throw(e))}catch(e){n(e)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(c,d)}s((a=a.apply(t,r||[])).next())}));var t,r,o,a}handleRespond(e){if(this.currentCardIndex=this.currentCardIndex+1,this.currentCardIndex<this.cards.length){const e=this.renderStudyCard();this.rerender(e)}else this.currentCardIndex=0,this.shadowRoot.innerHTML=""}renderStudyCard(){const e=this.cards[this.currentCardIndex],t=document.createDocumentFragment(),r=new d;r.card=e,r.on_respond=e=>this.handleRespond(e),r.rerender=this.renderStudyCard;const o=r.render();t.appendChild(o);const n=document.createElement("div");return n.id="study-container",n.appendChild(t),n}rerender(e){const t=this.shadowRoot.querySelector("style");this.shadowRoot.innerHTML="",this.shadowRoot.appendChild(t),this.shadowRoot.appendChild(e)}};a([o.Uw,c("design:type",Array)],s.prototype,"cards",void 0),a([o.Uw,c("design:type",Number)],s.prototype,"currentCardIndex",void 0),s=a([(0,o.uA)({tag:"study-component",shadow:!0,styleUrl:"../components/study.css"}),c("design:paramtypes",[])],s)},615:(e,t,r)=>{r.d(t,{D:()=>c});var o=r(818),n=function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let c=class{constructor(){this.count=0}increment(e){this.count=this.count+1,e.srcElement.innerText=this.count}renderItems(){var e;const t=null===(e=null==this?void 0:this.user)||void 0===e?void 0:e.name;if(t)return(0,o.IO)("li",{id:"user-item",className:"user-item",style:{margin:"10px 0",border:"1px solid #ddd",padding:"10px"}},t||"Loading...")}render(){return(0,o.IO)("div",null,this.renderItems(),(0,o.IO)("button",{id:"incrementButton",onclick:e=>this.increment(e)},String(this.count)))}};n([o.kv,a("design:type",Object)],c.prototype,"user",void 0),n([o.Uw,a("design:type",Number)],c.prototype,"count",void 0),c=n([(0,o.Ji)(["user"])],c)},764:(e,t,r)=>{var o=r(818),n=r(615);let a=class extends HTMLElement{constructor(){super(),this.users=[],this.fetchAndRenderUsers()}fetchAndRenderUsers(){return e=this,t=void 0,o=function*(){try{const e=yield fetch("https://jsonplaceholder.typicode.com/users"),t=yield e.json();this.users=t,this.renderUsers()}catch(e){console.error("Error fetching users:",e)}},new((r=void 0)||(r=Promise))((function(n,a){function c(e){try{s(o.next(e))}catch(e){a(e)}}function d(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,d)}s((o=o.apply(e,t||[])).next())}));var e,t,r,o}renderUsers(){const e=document.createDocumentFragment();this.users.forEach((t=>{const r=new n.D;r.user=t;const o=r.render();e.appendChild(o)})),this.shadowRoot.appendChild(e)}};a=function(e,t,r,o){var n,a=arguments.length,c=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(c=(a<3?n(c):a>3?n(t,r,c):n(t,r))||c);return a>3&&c&&Object.defineProperty(t,r,c),c}([(0,o.uA)({tag:"user-list",shadow:!0,styleUrl:"./components/userlist.css"}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[])],a)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__(764),__webpack_require__(615),__webpack_require__(275),__webpack_require__(55),__webpack_require__(731),__webpack_require__(492);var __webpack_exports__=__webpack_require__(89)})();